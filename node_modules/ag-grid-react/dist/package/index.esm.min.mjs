import Zt,{Component as Xt}from"react";import{BaseComponentWrapper as er,GridCoreCreator as tr,ModuleRegistry as rr,VanillaFrameworkOverrides as sr,_combineAttributesAndGridOptions as nr,_processOnChange as or,_warnOnce as ar}from"ag-grid-community";import $e,{forwardRef as cr,useCallback as Je,useContext as lr,useEffect as ir,useImperativeHandle as ur,useMemo as Ke,useRef as te,useState as Pe}from"react";import{_escapeString as dr}from"ag-grid-community";import ce,{forwardRef as pr,useCallback as mr,useContext as hr,useImperativeHandle as fr,useLayoutEffect as Cr,useMemo as Qe,useRef as Se,useState as he}from"react";import gr from"react";var q=gr.createContext({}),Oe=(e,t,r,s)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const a=e.newAgStackInstance();if(a==null)return;let c,n,i=!1;return a.then(l=>{if(i){t.destroyBean(l);return}c=l,n=c.getGui(),r.appendChild(n),bt(s,c)}),()=>{i=!0,c&&(n&&n.parentElement&&n.parentElement.removeChild(n),t.destroyBean(c),s&&bt(s,void 0))}},bt=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const r=e;r.current=t}};import at from"react-dom";var re=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),X=class Qt{constructor(...t){this.classesMap={},t.forEach(r=>{this.classesMap[r]=!0})}setClass(t,r){if(!!this.classesMap[t]==r)return this;const o=new Qt;return o.classesMap={...this.classesMap},o.classesMap[t]=r,o}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},be=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,r=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},kt=at.createRoot!=null&&at.flushSync!=null;function Rr(){return!kt}var qe=!1;function yr(e){return qe||setTimeout(()=>qe=!1,0),qe=!0,e()}var ct=(e,t)=>{kt&&e&&!qe?at.flushSync(t):t()};function lt(e,t,r){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(r||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const s=[],o=[],a=new Map,c=new Map;for(let n=0;n<t.length;n++){const i=t[n];c.set(i.getInstanceId(),i)}for(let n=0;n<e.length;n++){const i=e[n];a.set(i.getInstanceId(),i),c.has(i.getInstanceId())&&s.push(i)}for(let n=0;n<t.length;n++){const i=t[n],l=i.getInstanceId();a.has(l)||o.push(i)}return s.length===e.length&&o.length===0?e:s.length===0&&o.length===t.length?t:s.length===0?o:o.length===0?s:[...s,...o]}var Ft=pr((e,t)=>{const{ctrlsFactory:r,context:s}=hr(q),o=Se(null),a=Se(null),c=Se(null),n=Se(null),i=Se(null),l=Se(),[m,d]=he(),[v,y]=he(),[u,g]=he(),[p,h]=he(()=>new X),[w,E]=he(()=>new X("ag-hidden")),[C,N]=he(()=>new X("ag-hidden")),[P,D]=he(()=>new X("ag-invisible"));fr(t,()=>({refresh(){return!1}})),Cr(()=>Oe(m,s,a.current),[m]);const S=mr(G=>{if(o.current=G,!o.current){s.destroyBean(l.current),l.current=null;return}const A={setInnerRenderer:(M,O)=>{d(M),g(O)},setChildCount:M=>y(M),addOrRemoveCssClass:(M,O)=>h(I=>I.setClass(M,O)),setContractedDisplayed:M=>N(O=>O.setClass("ag-hidden",!M)),setExpandedDisplayed:M=>E(O=>O.setClass("ag-hidden",!M)),setCheckboxVisible:M=>D(O=>O.setClass("ag-invisible",!M))},L=r.getInstance("groupCellRendererCtrl");L&&(l.current=s.createBean(L),l.current.init(A,o.current,c.current,n.current,i.current,Ft,e))},[]),R=Qe(()=>`ag-cell-wrapper ${p.toString()}`,[p]),f=Qe(()=>`ag-group-expanded ${w.toString()}`,[w]),b=Qe(()=>`ag-group-contracted ${C.toString()}`,[C]),k=Qe(()=>`ag-group-checkbox ${P.toString()}`,[P]),B=m&&m.componentFromFramework,U=B?m.componentClass:void 0,W=m==null&&u!=null,T=dr(u,!0);return ce.createElement("span",{className:R,ref:S,...e.colDef?{}:{role:l.current?.getCellAriaRole()}},ce.createElement("span",{className:f,ref:n}),ce.createElement("span",{className:b,ref:i}),ce.createElement("span",{className:k,ref:c}),ce.createElement("span",{className:"ag-group-value",ref:a},W&&ce.createElement(ce.Fragment,null,T),B&&ce.createElement(U,{...m.params})),ce.createElement("span",{className:"ag-group-child-count"},v))}),Mt=Ft;import{AgPromise as it}from"ag-grid-community";import It,{memo as vr,useEffect as wr,useState as Er}from"react";import{createContext as Pr}from"react";var De=Pr({setMethods:()=>{}}),Sr=e=>{const{initialProps:t,addUpdateCallback:r,CustomComponentClass:s,setMethods:o}=e,[a,c]=Er(t);return wr(()=>{r(n=>c(n))},[]),It.createElement(De.Provider,{value:{setMethods:o}},It.createElement(s,{...a}))},br=vr(Sr);import{AgPromise as ut,_warnOnce as xt}from"ag-grid-community";import{createElement as kr}from"react";import{createPortal as Fr}from"react-dom";var Mr=0;function Gt(){return`agPortalKey_${++Mr}`}var At=class{constructor(e,t,r,s){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!s,this.statelessComponent=this.isStateless(this.reactComponent),this.key=Gt(),this.portalKey=Gt(),this.instanceCreated=this.isStatelessComponent()?ut.resolve(!1):new ut(o=>{this.resolveInstanceCreated=o})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(xt('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&(xt('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(t=>this.eParentElement.classList.add(t))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r){setTimeout(()=>this.callMethod(e,t));return}const s=r[e];if(s)return s.apply(r,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new ut(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.addParentContainerStyleAndClasses(),this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=Fr(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return kr(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function dt(e,t,r){e.forEach(s=>{const o=t[s];o&&(r[s]=o)})}var le=class extends At{constructor(){super(...arguments),this.awaitUpdateCallback=new it(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=br}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new it(s=>{setTimeout(()=>{s()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,dt(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new it(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},Ir=class extends le{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},xr=class extends le{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Gr=class extends le{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};import{AgPromise as Ar}from"ag-grid-community";function Ot(e,t){e.parentFilterInstance(r=>{(r.setModel(t)||Ar.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var Or=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){dt(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Ot(this.floatingFilterParams,e)}},Dr=class extends le{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),Ot(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},Br=class extends le{refresh(e){this.sourceParams=e,this.refreshProps()}},Wr=class extends le{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},Tr=class extends le{refresh(e){this.sourceParams=e,this.refreshProps()}},Nr=class extends le{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Hr=class extends le{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};import{AgPromise as Ur,_warnOnce as Lr}from"ag-grid-community";function _r(e,t){(e?.getInstance?.()??Ur.resolve(void 0)).then(s=>t(s))}function Ye(){Lr("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var Vr=1e3,jr=class{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||Vr}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}};import{GridCtrl as zr}from"ag-grid-community";import Be,{memo as $r,useCallback as pt,useEffect as Jr,useMemo as Ze,useRef as ke,useState as fe}from"react";import{CssClassManager as Kr,FakeHScrollComp as Qr,FakeVScrollComp as qr,GridBodyCtrl as Yr,OverlayWrapperComponent as Zr,_setAriaColCount as Xr,_setAriaRowCount as es}from"ag-grid-community";import We,{memo as ts,useCallback as rs,useContext as ss,useMemo as se,useRef as ne,useState as Y}from"react";import{GridHeaderCtrl as ns}from"ag-grid-community";import Xe,{memo as os,useCallback as as,useContext as cs,useMemo as Dt,useRef as Bt,useState as Wt}from"react";import{HeaderRowContainerCtrl as ls}from"ag-grid-community";import Ce,{memo as is,useCallback as us,useContext as ds,useRef as mt,useState as Tt}from"react";import{HeaderRowType as Nt}from"ag-grid-community";import et,{memo as ps,useCallback as Ht,useMemo as Ut,useRef as ht,useState as ft}from"react";import{CssClassManager as ms,_removeAriaSort as hs,_setAriaSort as fs}from"ag-grid-community";import Te,{memo as Cs,useCallback as gs,useContext as Rs,useEffect as ys,useLayoutEffect as vs,useMemo as ws,useRef as Ne,useState as Es}from"react";var Ps=e=>{const{ctrl:t}=e,r=t.isAlive(),{context:s}=Rs(q),o=r?t.getColId():void 0,[a,c]=Es(),n=Ne(null),i=Ne(null),l=Ne(null),m=Ne(),d=Ne();r&&!d.current&&(d.current=new ms(()=>n.current));const v=gs(p=>{if(n.current=p,!n.current||!r)return;const h={setWidth:E=>{n.current&&(n.current.style.width=E)},addOrRemoveCssClass:(E,C)=>d.current.addOrRemoveCssClass(E,C),setAriaSort:E=>{n.current&&(E?fs(n.current,E):hs(n.current))},setUserCompDetails:E=>c(E),getUserCompInstance:()=>m.current||void 0};t.setComp(h,n.current,i.current,l.current);const w=t.getSelectAllGui();i.current?.insertAdjacentElement("afterend",w)},[]);vs(()=>Oe(a,s,l.current,m),[a]),ys(()=>{t.setDragSource(n.current)},[a]);const y=ws(()=>!!(a?.componentFromFramework&&be(a.componentClass)),[a]),u=a&&a.componentFromFramework,g=a&&a.componentClass;return Te.createElement("div",{ref:v,className:"ag-header-cell","col-id":o,role:"columnheader"},Te.createElement("div",{ref:i,className:"ag-header-cell-resize",role:"presentation"}),Te.createElement("div",{ref:l,className:"ag-header-cell-comp-wrapper",role:"presentation"},u&&y&&Te.createElement(g,{...a.params}),u&&!y&&Te.createElement(g,{...a.params,ref:m})))},Ss=Cs(Ps);import{AgPromise as bs}from"ag-grid-community";import ge,{memo as ks,useCallback as Fs,useContext as Ms,useLayoutEffect as Is,useMemo as Fe,useRef as Me,useState as Ie}from"react";var xs=e=>{const{context:t,gos:r}=Ms(q),[s,o]=Ie(()=>new X("ag-header-cell","ag-floating-filter")),[a,c]=Ie(()=>new X),[n,i]=Ie(()=>new X("ag-floating-filter-button","ag-hidden")),[l,m]=Ie("false"),[d,v]=Ie(),[,y]=Ie(1),u=Me(null),g=Me(null),p=Me(null),h=Me(null),w=Me(),E=Me(),C=T=>{T!=null&&w.current&&w.current(T)},{ctrl:N}=e,P=Fs(T=>{if(u.current=T,!u.current)return;E.current=new bs(A=>{w.current=A});const G={addOrRemoveCssClass:(A,L)=>o(M=>M.setClass(A,L)),addOrRemoveBodyCssClass:(A,L)=>c(M=>M.setClass(A,L)),setButtonWrapperDisplayed:A=>{i(L=>L.setClass("ag-hidden",!A)),m(A?"false":"true")},setWidth:A=>{u.current&&(u.current.style.width=A)},setCompDetails:A=>v(A),getFloatingFilterComp:()=>E.current?E.current:null,setMenuIcon:A=>h.current?.appendChild(A)};N.setComp(G,u.current,h.current,g.current)},[]);Is(()=>Oe(d,t,g.current,C),[d]);const D=Fe(()=>s.toString(),[s]),S=Fe(()=>a.toString(),[a]),R=Fe(()=>n.toString(),[n]),f=Fe(()=>!!(d&&d.componentFromFramework&&be(d.componentClass)),[d]),b=Fe(()=>r.get("reactiveCustomComponents"),[]),k=Fe(()=>{if(d)if(b){const T=new Or(d.params,()=>y(G=>G+1));return C(T),T}else d.componentFromFramework&&Ye()},[d]),B=k?.getProps(),U=d&&d.componentFromFramework,W=d&&d.componentClass;return ge.createElement("div",{ref:P,className:D,role:"gridcell"},ge.createElement("div",{ref:g,className:S,role:"presentation"},U&&!b&&ge.createElement(W,{...d.params,ref:f?()=>{}:C}),U&&b&&ge.createElement(De.Provider,{value:{setMethods:T=>k.setMethods(T)}},ge.createElement(W,{...B}))),ge.createElement("div",{ref:p,"aria-hidden":l,className:R,role:"presentation"},ge.createElement("button",{ref:h,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},Gs=ks(xs);import He,{memo as As,useCallback as Os,useContext as Ds,useEffect as Bs,useLayoutEffect as Ws,useMemo as tt,useRef as rt,useState as Ue}from"react";var Ts=e=>{const{context:t}=Ds(q),{ctrl:r}=e,[s,o]=Ue(()=>new X),[a,c]=Ue(()=>new X),[n,i]=Ue("false"),[l,m]=Ue(),[d,v]=Ue(),y=tt(()=>r.getColId(),[]),u=rt(null),g=rt(null),p=rt(null),h=rt(),w=Os(S=>{if(u.current=S,!u.current)return;const R={setWidth:f=>{u.current&&(u.current.style.width=f)},addOrRemoveCssClass:(f,b)=>o(k=>k.setClass(f,b)),setUserCompDetails:f=>v(f),setResizableDisplayed:f=>{c(b=>b.setClass("ag-hidden",!f)),i(f?"false":"true")},setAriaExpanded:f=>m(f),getUserCompInstance:()=>h.current||void 0};r.setComp(R,u.current,g.current,p.current)},[]);Ws(()=>Oe(d,t,p.current),[d]),Bs(()=>{u.current&&r.setDragSource(u.current)},[d]);const E=tt(()=>!!(d?.componentFromFramework&&be(d.componentClass)),[d]),C=tt(()=>"ag-header-group-cell "+s.toString(),[s]),N=tt(()=>"ag-header-cell-resize "+a.toString(),[a]),P=d&&d.componentFromFramework,D=d&&d.componentClass;return He.createElement("div",{ref:w,className:C,"col-id":y,role:"columnheader","aria-expanded":l},He.createElement("div",{ref:p,className:"ag-header-cell-comp-wrapper",role:"presentation"},P&&E&&He.createElement(D,{...d.params}),P&&!E&&He.createElement(D,{...d.params,ref:h})),He.createElement("div",{ref:g,"aria-hidden":n,className:N}))},Ns=As(Ts),Hs=e=>{const{ctrl:t}=e,{topOffset:r,rowHeight:s}=Ut(()=>t.getTopAndHeight(),[]),o=t.getAriaRowIndex(),a=t.getHeaderRowClass(),[c,n]=ft(()=>s+"px"),[i,l]=ft(()=>r+"px"),m=ht(null),d=ht(null),[v,y]=ft(()=>t.getHeaderCtrls()),u=ht(null),g=Ht(w=>{if(u.current=w,!w)return;const E={setHeight:C=>n(C),setTop:C=>l(C),setHeaderCtrls:(C,N,P)=>{d.current=m.current,m.current=C;const D=lt(d.current,C,N);D!==d.current&&ct(P,()=>y(D))},setWidth:C=>{u.current&&(u.current.style.width=C)}};t.setComp(E,!1)},[]),p=Ut(()=>({height:c,top:i}),[c,i]),h=Ht(w=>{switch(t.getType()){case Nt.COLUMN_GROUP:return et.createElement(Ns,{ctrl:w,key:w.getInstanceId()});case Nt.FLOATING_FILTER:return et.createElement(Gs,{ctrl:w,key:w.getInstanceId()});default:return et.createElement(Ss,{ctrl:w,key:w.getInstanceId()})}},[]);return et.createElement("div",{ref:g,className:a,role:"row",style:p,"aria-rowindex":o},v.map(h))},Us=ps(Hs),Ls=e=>{const[t,r]=Tt(!0),[s,o]=Tt([]),{context:a}=ds(q),c=mt(null),n=mt(null),i=mt(null),l=e.pinned==="left",m=e.pinned==="right",d=!l&&!m,v=us(g=>{if(c.current=g,!c.current){a.destroyBean(i.current),i.current=null;return}const p={setDisplayed:r,setCtrls:h=>o(h),setCenterWidth:h=>{n.current&&(n.current.style.width=h)},setViewportScrollLeft:h=>{c.current&&(c.current.scrollLeft=h)},setPinnedContainerWidth:h=>{c.current&&(c.current.style.width=h,c.current.style.minWidth=h,c.current.style.maxWidth=h)}};i.current=a.createBean(new ls(e.pinned)),i.current.setComp(p,c.current)},[]),y=t?"":"ag-hidden",u=()=>s.map(g=>Ce.createElement(Us,{ctrl:g,key:g.getInstanceId()}));return Ce.createElement(Ce.Fragment,null,l&&Ce.createElement("div",{ref:v,className:"ag-pinned-left-header "+y,"aria-hidden":!t,role:"rowgroup"},u()),m&&Ce.createElement("div",{ref:v,className:"ag-pinned-right-header "+y,"aria-hidden":!t,role:"rowgroup"},u()),d&&Ce.createElement("div",{ref:v,className:"ag-header-viewport "+y,role:"presentation"},Ce.createElement("div",{ref:n,className:"ag-header-container",role:"rowgroup"},u())))},Ct=is(Ls),_s=()=>{const[e,t]=Wt(()=>new X),[r,s]=Wt(),{context:o}=cs(q),a=Bt(null),c=Bt(null),n=as(m=>{if(a.current=m,!m){o.destroyBean(c.current),c.current=null;return}const d={addOrRemoveCssClass:(v,y)=>t(u=>u.setClass(v,y)),setHeightAndMinHeight:v=>s(v)};c.current=o.createBean(new ns),c.current.setComp(d,a.current,a.current)},[]),i=Dt(()=>"ag-header "+e.toString(),[e]),l=Dt(()=>({height:r,minHeight:r}),[r]);return Xe.createElement("div",{ref:n,className:i,style:l,role:"presentation"},Xe.createElement(Ct,{pinned:"left"}),Xe.createElement(Ct,{pinned:null}),Xe.createElement(Ct,{pinned:"right"}))},Vs=os(_s);import{useEffect as js}from"react";var zs=(e,t)=>{js(()=>{const r=t.current;if(r){const s=r.parentElement;if(s){const o=document.createComment(e);return s.insertBefore(o,r),()=>{s.removeChild(o)}}}},[e])},Re=zs;import{RowContainerCtrl as $s,_getRowContainerOptions as Js}from"ag-grid-community";import Le,{memo as Ks,useCallback as _e,useContext as Qs,useMemo as gt,useRef as xe,useState as qs}from"react";import{CssClassManager as Ys}from"ag-grid-community";import Ge,{memo as Zs,useCallback as Xs,useContext as en,useEffect as Lt,useLayoutEffect as tn,useMemo as _t,useRef as pe,useState as ie}from"react";import{CssClassManager as rn,_removeFromParent as sn}from"ag-grid-community";import H,{memo as nn,useCallback as ye,useContext as on,useLayoutEffect as Rt,useMemo as yt,useRef as ue,useState as de}from"react";import{AgPromise as an}from"ag-grid-community";var cn=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new an(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){dt(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}};import Vt,{memo as ln,useContext as un,useState as dn}from"react";import{createPortal as pn}from"react-dom";import{useEffect as mn,useRef as st,useState as hn}from"react";var fn=e=>{const t=st(e),r=st(),s=st(!1),o=st(!1),[,a]=hn(0);s.current&&(o.current=!0),mn(()=>(s.current||(r.current=t.current(),s.current=!0),a(c=>c+1),()=>{o.current&&r.current&&r.current()}),[])},Cn=e=>{const[t,r]=dn(),{context:s,popupService:o,localeService:a,gos:c,editService:n}=un(q);return fn(()=>{const{editDetails:i,cellCtrl:l,eParentCell:m}=e,{compDetails:d}=i,v=c.get("stopEditingWhenCellsLoseFocus"),y=s.createBean(n.createPopupEditorWrapper(d.params)),u=y.getGui();if(e.jsChildComp){const C=e.jsChildComp.getGui();C&&u.appendChild(C)}const g={column:l.getColumn(),rowNode:l.getRowNode(),type:"popupCellEditor",eventSource:m,ePopup:u,position:i.popupPosition,keepWithinBounds:!0},p=o.positionPopupByComponent.bind(o,g),h=a.getLocaleTextFunc(),w=o.addPopup({modal:v,eChild:u,closeOnEsc:!0,closedCallback:()=>{l.onPopupEditorClosed()},anchorToElement:m,positionCallback:p,ariaLabel:h("ariaLabelCellEditor","Cell Editor")}),E=w?w.hideFunc:void 0;return r(y),e.jsChildComp&&e.jsChildComp.afterGuiAttached&&e.jsChildComp.afterGuiAttached(),()=>{E?.(),s.destroyBean(y)}}),Vt.createElement(Vt.Fragment,null,t&&e.wrappedContent&&pn(e.wrappedContent,t.getGui()))},jt=ln(Cn);import{useCallback as gn,useContext as Rn,useEffect as zt}from"react";var yn=(e,t,r,s,o,a)=>{const{context:c}=Rn(q),n=gn(()=>{const i=o.current;if(!i)return;const l=i.getGui();l&&l.parentElement&&l.parentElement.removeChild(l),c.destroyBean(i),o.current=void 0},[]);zt(()=>{const i=e!=null,l=e&&e.compDetails&&!e.compDetails.componentFromFramework,m=t&&r==null;if(!(i&&l&&!m)){n();return}const v=e.compDetails;if(o.current){const u=o.current,p=u.refresh!=null&&e.force==!1?u.refresh(v.params):!1;if(p===!0||p===void 0)return;n()}const y=v.newAgStackInstance();y?.then(u=>{if(!u)return;const g=u.getGui();if(!g)return;(t?r:a.current).appendChild(g),o.current=u})},[e,t,s]),zt(()=>n,[])},vn=yn,wn=(e,t,r)=>{const{compProxy:s}=e;r(s);const o=s.getProps(),a=be(t);return H.createElement(De.Provider,{value:{setMethods:c=>s.setMethods(c)}},a&&H.createElement(t,{...o}),!a&&H.createElement(t,{...o,ref:c=>s.setRef(c)}))},$t=(e,t,r)=>{const s=e.compProxy;return H.createElement(H.Fragment,null,!s&&H.createElement(t,{...e.compDetails.params,ref:r}),s&&wn(e,t,r))},En=(e,t,r,s,o,a)=>{const c=e.compDetails,n=c.componentClass,i=c.componentFromFramework&&!e.popup,l=c.componentFromFramework&&e.popup,m=!c.componentFromFramework&&e.popup;return H.createElement(H.Fragment,null,i&&$t(e,n,t),l&&H.createElement(jt,{editDetails:e,cellCtrl:o,eParentCell:s,wrappedContent:$t(e,n,r)}),m&&a&&H.createElement(jt,{editDetails:e,cellCtrl:o,eParentCell:s,jsChildComp:a}))},Pn=(e,t,r,s,o,a,c)=>{const{compDetails:n,value:i}=e,l=!n,m=n&&n.componentFromFramework,d=n&&n.componentClass,v=i?.toString?i.toString():i,y=()=>H.createElement(H.Fragment,null,l&&H.createElement(H.Fragment,null,v),m&&!a&&H.createElement(d,{...n.params,key:t,ref:s}),m&&a&&H.createElement(d,{...n.params,key:t}));return H.createElement(H.Fragment,null,o?H.createElement("span",{role:"presentation",id:`cell-${r}`,className:"ag-cell-value",ref:c},y()):y())},Sn=e=>{const{context:t}=on(q),{cellCtrl:r,printLayout:s,editingRow:o}=e,a=r.getColumnIdSanitised(),c=r.getInstanceId(),[n,i]=de(()=>r.isCellRenderer()?void 0:{compDetails:void 0,value:r.getValueToDisplay(),force:!1}),[l,m]=de(),[d,v]=de(1),[y,u]=de(),[g,p]=de(!1),[h,w]=de(!1),[E,C]=de(!1),[N,P]=de(),D=yt(()=>r.isForceWrapper(),[r]),S=yt(()=>r.getCellAriaRole(),[r]),R=ue(null),f=ue(null),b=ue(),k=ue(),B=ue(),U=ue([]),W=ue(),[T,G]=de(0),A=ye($=>{W.current=$,G(V=>V+1)},[]),L=n!=null&&(g||E||h),M=D||L,O=ye(($,V)=>{k.current=V,V&&V.isCancelBeforeStart&&V.isCancelBeforeStart()&&setTimeout(()=>{r.stopEditing(!0),r.focusCell(!0)})},[r]),I=ye($=>O(!0,$),[O]),J=ye($=>O(!1,$),[O]),F=ue();F.current||(F.current=new rn(()=>R.current)),vn(n,M,W.current,T,b,R);const ee=ue();Rt(()=>{const $=ee.current,V=n;if(ee.current=n,$==null||$.compDetails==null||V==null||V.compDetails==null)return;const z=$.compDetails,x=V.compDetails;if(z.componentClass!=x.componentClass||f.current==null||f.current.refresh==null)return;f.current.refresh(x.params)!=!0&&v(Q=>Q+1)},[n]),Rt(()=>{if(!(l&&!l.compDetails.componentFromFramework))return;const V=l.compDetails,z=l.popup===!0,x=V.newAgStackInstance();return x.then(j=>{if(!j)return;const Q=j.getGui();O(z,j),z||((D?B:R).current?.appendChild(Q),j.afterGuiAttached&&j.afterGuiAttached()),P(j)}),()=>{x.then(j=>{const Q=j.getGui();t.destroyBean(j),O(z,void 0),P(void 0),Q&&Q.parentElement&&Q.parentElement.removeChild(Q)})}},[l]);const K=ye($=>{if(B.current=$,!B.current){U.current.forEach(z=>z()),U.current=[];return}const V=z=>{if(z){const x=z.getGui();B.current?.insertAdjacentElement("afterbegin",x),U.current.push(()=>{t.destroyBean(z),sn(x)})}return z};if(g){const z=r.createSelectionCheckbox();V(z)}E&&V(r.createDndSource()),h&&V(r.createRowDragComp())},[r,t,E,h,g]),oe=ye($=>{if(R.current=$,!R.current||!r)return;const V={addOrRemoveCssClass:(x,j)=>F.current.addOrRemoveCssClass(x,j),setUserStyles:x=>u(x),getFocusableElement:()=>R.current,setIncludeSelection:x=>p(x),setIncludeRowDrag:x=>w(x),setIncludeDndSource:x=>C(x),getCellEditor:()=>k.current||null,getCellRenderer:()=>f.current?f.current:b.current,getParentOfValue:()=>W.current?W.current:B.current?B.current:R.current,setRenderDetails:(x,j,Q)=>{i(ae=>ae?.compDetails!==x||ae?.value!==j||ae?.force!==Q?{value:j,compDetails:x,force:Q}:ae)},setEditDetails:(x,j,Q,ae)=>{if(x){let we;ae?we=new cn(x.params,()=>v(me=>me+1)):x.componentFromFramework&&Ye(),m({compDetails:x,popup:j,popupPosition:Q,compProxy:we}),j||i(void 0)}else m(we=>{we?.compProxy&&(k.current=void 0)})}},z=B.current||void 0;r.setComp(V,R.current,z,s,o)},[]),ve=yt(()=>!!(n&&n.compDetails&&n.compDetails.componentFromFramework&&be(n.compDetails.componentClass)),[n]);Rt(()=>{R.current&&(F.current.addOrRemoveCssClass("ag-cell-value",!M),F.current.addOrRemoveCssClass("ag-cell-inline-editing",!!l&&!l.popup),F.current.addOrRemoveCssClass("ag-cell-popup-editing",!!l&&!!l.popup),F.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!l||!!l.popup),r.getRowCtrl()?.setInlineEditingCss(),r.shouldRestoreFocus()&&!r.isEditing()&&R.current.focus({preventScroll:!0}))});const je=()=>H.createElement(H.Fragment,null,n!=null&&Pn(n,d,c,f,M,ve,A),l!=null&&En(l,J,I,R.current,r,N)),nt=ye(()=>r.onFocusOut(),[]);return H.createElement("div",{ref:oe,style:y,role:S,"col-id":a,onBlur:nt},M?H.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:K},je()):je())},bn=nn(Sn),kn=e=>{const{context:t,gos:r}=en(q),{rowCtrl:s,containerType:o}=e,a=pe(s.getDomOrder()),c=s.isFullWidth(),n=s.getRowNode().displayed,[i,l]=ie(()=>n?s.getRowIndex():null),[m,d]=ie(()=>s.getRowId()),[v,y]=ie(()=>s.getBusinessKey()),[u,g]=ie(()=>s.getRowStyles()),p=pe(null),h=pe(null),[w,E]=ie(()=>null),[C,N]=ie(),[P,D]=ie(()=>n?s.getInitialRowTop(o):void 0),[S,R]=ie(()=>n?s.getInitialTransform(o):void 0),f=pe(null),b=pe(),k=pe(!1),[B,U]=ie(0);Lt(()=>{if(k.current||!C||B>10)return;const F=f.current?.firstChild;F?(s.setupDetailRowAutoHeight(F),k.current=!0):U(ee=>ee+1)},[C,B]);const W=pe();W.current||(W.current=new Ys(()=>f.current));const T=Xs(F=>{if(f.current=F,!f.current){s.unsetComp(o);return}if(!s.isAlive())return;const ee={setTop:D,setTransform:R,addOrRemoveCssClass:(K,oe)=>W.current.addOrRemoveCssClass(K,oe),setDomOrder:K=>a.current=K,setRowIndex:l,setRowId:d,setRowBusinessKey:y,setUserStyles:g,setCellCtrls:(K,oe)=>{h.current=p.current,p.current=K;const ve=lt(h.current,K,a.current);ve!==h.current&&ct(oe,()=>E(ve))},showFullWidth:K=>N(K),getFullWidthCellRenderer:()=>b.current,refreshFullWidth:K=>O.current?(N(oe=>({...oe,params:K()})),!0):!b.current||!b.current.refresh?!1:b.current.refresh(K())};s.setComp(ee,f.current,o)},[]);tn(()=>Oe(C,t,f.current,b),[C]);const G=_t(()=>{const F={top:P,transform:S};return Object.assign(F,u),F},[P,S,u]),A=c&&C&&C.componentFromFramework,L=!c&&w!=null,M=_t(()=>!!(C?.componentFromFramework&&be(C.componentClass)),[C]),O=pe(!1);Lt(()=>{O.current=M&&!!C&&!!r.get("reactiveCustomComponents")},[M,C]);const I=()=>w?.map(F=>Ge.createElement(bn,{cellCtrl:F,editingRow:s.isEditing(),printLayout:s.isPrintLayout(),key:F.getInstanceId()})),J=()=>{const F=C.componentClass;return Ge.createElement(Ge.Fragment,null,M&&Ge.createElement(F,{...C.params}),!M&&Ge.createElement(F,{...C.params,ref:b}))};return Ge.createElement("div",{ref:T,role:"row",style:G,"row-index":i,"row-id":m,"row-business-key":v},L&&I(),A&&J())},Fn=Zs(kn),Mn=e=>{const{context:t}=Qs(q),{name:r}=e,s=gt(()=>Js(r),[r]),o=xe(null),a=xe(null),c=xe([]),n=xe([]),[i,l]=qs(()=>[]),m=xe(!1),d=xe(),v=gt(()=>re(s.viewport),[s]),y=gt(()=>re(s.container),[s]),u=s.type==="center",g=u?o:a;Re(" AG Row Container "+r+" ",g);const p=_e(()=>u?o.current!=null&&a.current!=null:a.current!=null,[]),h=_e(()=>u?o.current==null&&a.current==null:a.current==null,[]),w=_e(()=>{if(h()&&(t.destroyBean(d.current),d.current=null),p()){const P=S=>{const R=lt(n.current,c.current,m.current);R!==n.current&&(n.current=R,ct(S,()=>l(R)))},D={setHorizontalScroll:S=>{o.current&&(o.current.scrollLeft=S)},setViewportHeight:S=>{o.current&&(o.current.style.height=S)},setRowCtrls:({rowCtrls:S,useFlushSync:R})=>{const f=!!R&&c.current.length>0&&S.length>0;c.current=S,P(f)},setDomOrder:S=>{m.current!=S&&(m.current=S,P(!1))},setContainerWidth:S=>{a.current&&(a.current.style.width=S)},setOffsetTop:S=>{a.current&&(a.current.style.transform=`translateY(${S})`)}};d.current=t.createBean(new $s(r)),d.current.setComp(D,a.current,o.current)}},[p,h]),E=_e(P=>{a.current=P,w()},[w]),C=_e(P=>{o.current=P,w()},[w]),N=()=>Le.createElement("div",{className:y,ref:E,role:"rowgroup"},i.map(P=>Le.createElement(Fn,{rowCtrl:P,containerType:s.type,key:P.getInstanceId()})));return Le.createElement(Le.Fragment,null,u?Le.createElement("div",{className:v,ref:C,role:"presentation"},N()):N())},In=Ks(Mn),xn=()=>{const{context:e,resizeObserverService:t}=ss(q),[r,s]=Y(""),[o,a]=Y(0),[c,n]=Y(0),[i,l]=Y("0px"),[m,d]=Y("0px"),[v,y]=Y("100%"),[u,g]=Y("0px"),[p,h]=Y("0px"),[w,E]=Y("100%"),[C,N]=Y(""),[P,D]=Y(""),[S,R]=Y(null),[f,b]=Y(""),[k,B]=Y(null),[U,W]=Y("ag-layout-normal"),T=ne();T.current||(T.current=new Kr(()=>G.current));const G=ne(null),A=ne(null),L=ne(null),M=ne(null),O=ne(null),I=ne(null),J=ne(null),F=ne([]),ee=ne([]);Re(" AG Grid Body ",G),Re(" AG Pinned Top ",A),Re(" AG Sticky Top ",L),Re(" AG Middle ",I),Re(" AG Pinned Bottom ",J);const K=rs(Ee=>{if(G.current=Ee,!G.current){e.destroyBeans(F.current),ee.current.forEach(_=>_()),F.current=[],ee.current=[];return}if(!e)return;const ze=(_,Z)=>{_.appendChild(Z),ee.current.push(()=>_.removeChild(Z))},ot=_=>{const Z=e.createBean(new _);return F.current.push(Z),Z},Ae=(_,Z,Yt)=>{ze(_,document.createComment(Yt)),ze(_,ot(Z).getGui())};Ae(G.current,Qr," AG Fake Horizontal Scroll "),Ae(G.current,Zr," AG Overlay Wrapper "),O.current&&Ae(O.current,qr," AG Fake Vertical Scroll ");const qt={setRowAnimationCssOnBodyViewport:s,setColumnCount:_=>{G.current&&Xr(G.current,_)},setRowCount:_=>{G.current&&es(G.current,_)},setTopHeight:a,setBottomHeight:n,setStickyTopHeight:l,setStickyTopTop:d,setStickyTopWidth:y,setTopDisplay:N,setBottomDisplay:D,setColumnMovingCss:(_,Z)=>T.current.addOrRemoveCssClass(_,Z),updateLayoutClasses:W,setAlwaysVerticalScrollClass:R,setPinnedTopBottomOverflowY:b,setCellSelectableCss:(_,Z)=>B(Z?_:null),setBodyViewportWidth:_=>{I.current&&(I.current.style.width=_)},registerBodyViewportResizeListener:_=>{if(I.current){const Z=t.observeResize(I.current,_);ee.current.push(()=>Z())}},setStickyBottomHeight:g,setStickyBottomBottom:h,setStickyBottomWidth:E},St=e.createBean(new Yr);F.current.push(St),St.setComp(qt,G.current,I.current,A.current,J.current,L.current,M.current)},[]),oe=se(()=>re("ag-root","ag-unselectable",U),[U]),ve=se(()=>re("ag-body-viewport",r,U,S,k),[r,U,S,k]),je=se(()=>re("ag-body",U),[U]),nt=se(()=>re("ag-floating-top",k),[k]),$=se(()=>re("ag-sticky-top",k),[k]),V=se(()=>re("ag-sticky-bottom",u==="0px"?"ag-hidden":null,k),[k,u]),z=se(()=>re("ag-floating-bottom",k),[k]),x=se(()=>({height:o,minHeight:o,display:C,overflowY:f}),[o,C,f]),j=se(()=>({height:i,top:m,width:v}),[i,m,v]),Q=se(()=>({height:u,bottom:p,width:w}),[u,p,w]),ae=se(()=>({height:c,minHeight:c,display:P,overflowY:f}),[c,P,f]),we=Ee=>We.createElement(In,{name:Ee,key:`${Ee}-container`}),me=({section:Ee,children:ze,className:ot,style:Ae})=>We.createElement("div",{ref:Ee,className:ot,role:"presentation",style:Ae},ze.map(we));return We.createElement("div",{ref:K,className:oe,role:"treegrid"},We.createElement(Vs,null),me({section:A,className:nt,style:x,children:["topLeft","topCenter","topRight","topFullWidth"]}),We.createElement("div",{className:je,ref:O,role:"presentation"},me({section:I,className:ve,children:["left","center","right","fullWidth"]})),me({section:L,className:$,style:j,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),me({section:M,className:V,style:Q,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),me({section:J,className:z,style:ae,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},Gn=ts(xn);import{TabGuardClassNames as vt,TabGuardCtrl as An}from"ag-grid-community";import wt,{forwardRef as On,memo as Dn,useCallback as Et,useContext as Bn,useImperativeHandle as Wn,useRef as Pt}from"react";var Tn=(e,t)=>{const{children:r,eFocusableElement:s,onTabKeyDown:o,gridCtrl:a,forceFocusOutWhenTabGuardsAreEmpty:c}=e,{context:n}=Bn(q),i=Pt(null),l=Pt(null),m=Pt(),d=p=>{const h=p==null?void 0:parseInt(p,10).toString();[i,l].forEach(w=>{h===void 0?w.current?.removeAttribute("tabindex"):w.current?.setAttribute("tabindex",h)})};Wn(t,()=>({forceFocusOutOfContainer(p){m.current?.forceFocusOutOfContainer(p)}}));const v=Et(()=>{if(!i.current&&!l.current){n.destroyBean(m.current),m.current=null;return}if(i.current&&l.current){const p={setTabIndex:d};m.current=n.createBean(new An({comp:p,eTopGuard:i.current,eBottomGuard:l.current,eFocusableElement:s,onTabKeyDown:o,forceFocusOutWhenTabGuardsAreEmpty:c,focusInnerElement:h=>a.focusInnerElement(h)}))}},[]),y=Et(p=>{i.current=p,v()},[v]),u=Et(p=>{l.current=p,v()},[v]),g=p=>{const h=p==="top"?vt.TAB_GUARD_TOP:vt.TAB_GUARD_BOTTOM;return wt.createElement("div",{className:`${vt.TAB_GUARD} ${h}`,role:"presentation",ref:p==="top"?y:u})};return wt.createElement(wt.Fragment,null,g("top"),r,g("bottom"))},Nn=On(Tn),Hn=Dn(Nn),Un=({context:e})=>{const[t,r]=fe(""),[s,o]=fe(""),[a,c]=fe(null),[n,i]=fe(null),[l,m]=fe(!1),[d,v]=fe(),y=ke(null),u=ke(null),g=ke(),[p,h]=fe(null),w=ke(()=>{}),E=ke(),C=ke([]),N=pt(()=>{},[]),P=Ze(()=>e.isDestroyed()?null:e.getBeans(),[e]);Re(" AG Grid ",u);const D=pt(k=>{if(u.current=k,!u.current){e.destroyBean(y.current),y.current=null;return}if(e.isDestroyed())return;y.current=e.createBean(new zr);const B=y.current;w.current=B.focusInnerElement.bind(B);const U={destroyGridUi:()=>{},setRtlClass:r,forceFocusOutOfContainer:W=>{if(!W&&E.current?.isDisplayed()){E.current.forceFocusOutOfContainer(W);return}g.current?.forceFocusOutOfContainer(W)},updateLayoutClasses:o,getFocusableContainers:()=>{const W=[],T=u.current?.querySelector(".ag-root");return T&&W.push({getGui:()=>T}),C.current.forEach(G=>{G.isDisplayed()&&W.push(G)}),W},setCursor:c,setUserSelect:i};B.setComp(U,u.current,u.current),m(!0)},[]);Jr(()=>{if(!d||!P||!y.current||!p||!u.current)return;const k=y.current,B=[],{watermarkSelector:U,paginationSelector:W,sideBarSelector:T,statusBarSelector:G,gridHeaderDropZonesSelector:A}=k.getOptionalSelectors(),L=[],M=u.current;if(A){const I=e.createBean(new A.component),J=I.getGui();M.insertAdjacentElement("afterbegin",J),L.push(J),B.push(I)}if(T){const I=e.createBean(new T.component),J=I.getGui(),F=p.querySelector(".ag-tab-guard-bottom");F&&(F.insertAdjacentElement("beforebegin",J),L.push(J)),B.push(I),C.current.push(I)}const O=I=>{const J=e.createBean(new I),F=J.getGui();return M.insertAdjacentElement("beforeend",F),L.push(F),B.push(J),J};if(G&&O(G.component),W){const I=O(W.component);E.current=I,C.current.push(I)}return U&&O(U.component),()=>{e.destroyBeans(B),L.forEach(I=>{I.parentElement&&I.parentElement.removeChild(I)})}},[d,p,P]);const S=Ze(()=>re("ag-root-wrapper",t,s),[t,s]),R=Ze(()=>re("ag-root-wrapper-body","ag-focus-managed",s),[s]),f=Ze(()=>({userSelect:n??"",WebkitUserSelect:n??"",cursor:a??""}),[n,a]),b=pt(k=>{g.current=k,v(k!==null)},[]);return Be.createElement("div",{ref:D,className:S,style:f,role:"presentation"},Be.createElement("div",{className:R,ref:h,role:"presentation"},l&&p&&P&&Be.createElement(q.Provider,{value:P},Be.createElement(Hn,{ref:b,eFocusableElement:p,onTabKeyDown:N,gridCtrl:y.current,forceFocusOutWhenTabGuardsAreEmpty:!0},Be.createElement(Gn,null)))))},Ln=$r(Un);import{BeanStub as _n}from"ag-grid-community";var Vn=class extends _n{wireBeans(e){this.ctrlsService=e.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},Jt=e=>{const t=te(),r=te(null),s=te(null),o=te([]),a=te([]),c=te(e),n=te(),i=te(!1),[l,m]=Pe(void 0),[,d]=Pe(0),v=Je(g=>{if(r.current=g,!r.current){o.current.forEach(R=>R()),o.current.length=0;return}const p=e.modules||[];s.current||(s.current=new jr(()=>d(R=>R+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),o.current.push(()=>{s.current?.destroy(),s.current=null}));const h=nr(e.gridOptions,e),w=()=>{if(i.current){const R=()=>n.current?.shouldQueueUpdates()?void 0:a.current.shift();let f=R();for(;f;)f(),f=R()}},E=Rr()?new Jn(w):new Kt;n.current=E;const C=new Vn,N={providedBeanInstances:{frameworkComponentWrapper:new zn(s.current,h.reactiveCustomComponents??!0),renderStatusService:C},modules:p,frameworkOverrides:E},P=R=>{m(R),R.createBean(C),o.current.push(()=>{R.destroy()}),R.getBean("ctrlsService").whenReady(()=>{if(R.isDestroyed())return;const b=t.current;b&&e.setGridApi&&e.setGridApi(b)})},D=R=>{R.getBean("ctrlsService").whenReady(()=>{a.current.forEach(b=>b()),a.current.length=0,i.current=!0})},S=new tr;t.current=S.create(r.current,h,P,D,N)},[]),y=Ke(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),u=Je(g=>{i.current&&!n.current?.shouldQueueUpdates()?g():a.current.push(g)},[]);return ir(()=>{const g=jn(c.current,e);c.current=e,u(()=>{t.current&&or(g,t.current)})},[e]),$e.createElement("div",{style:y,className:e.className,ref:v},l&&!l.isDestroyed()?$e.createElement(Ln,{context:l}):null,s.current?.getPortals()??null)};function jn(e,t){const r={};return Object.keys(t).forEach(s=>{const o=t[s];e[s]!==o&&(r[s]=o)}),r}var zn=class extends er{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const o=(a=>{switch(a){case"filter":return Gr;case"floatingFilterComponent":return Dr;case"dateComponent":return xr;case"loadingOverlayComponent":return Br;case"noRowsOverlayComponent":return Tr;case"statusPanel":return Nr;case"toolPanel":return Hr;case"menuItem":return Wr;case"cellRenderer":return Ir}})(t.propertyName);if(o)return new o(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":Ye();break}const r=!t.cellRenderer&&t.propertyName!=="toolPanel";return new At(e,this.parent,t,r)}},$n=cr((e,t)=>{const{ctrlsFactory:r,context:s,gos:o,resizeObserverService:a,rowModel:c}=lr(q),[n,i]=Pe(()=>new X),[l,m]=Pe(()=>new X),[d,v]=Pe(),[y,u]=Pe(),g=te(),p=te(null),h=te(),w=Ke(()=>rr.__getGridRegisteredModules(e.api.getGridId()),[e]),E=Ke(()=>n.toString()+" ag-details-row",[n]),C=Ke(()=>l.toString()+" ag-details-grid",[l]);t&&ur(t,()=>({refresh(){return g.current?.refresh()??!1}})),e.template&&ar("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const N=Je(D=>{if(p.current=D,!p.current){s.destroyBean(g.current),h.current&&h.current();return}const S={addOrRemoveCssClass:(f,b)=>i(k=>k.setClass(f,b)),addOrRemoveDetailGridCssClass:(f,b)=>m(k=>k.setClass(f,b)),setDetailGrid:f=>v(f),setRowData:f=>u(f),getGui:()=>p.current},R=r.getInstance("detailCellRenderer");if(R&&(s.createBean(R),R.init(S,e),g.current=R,o.get("detailRowAutoHeight"))){const f=()=>{if(p.current==null)return;const b=p.current.clientHeight;b!=null&&b>0&&setTimeout(()=>{e.node.setRowHeight(b),(c.getType()==="clientSide"||c.getType()==="serverSide")&&c.onRowHeightChanged()},0)};h.current=a.observeResize(p.current,f),f()}},[]),P=Je(D=>{g.current?.registerDetailWithMaster(D)},[]);return $e.createElement("div",{className:E,ref:N},d&&$e.createElement(Jt,{className:C,...d,modules:w,rowData:y,setGridApi:P}))}),Kt=class extends sr{constructor(){super("react"),this.frameworkComponents={agGroupCellRenderer:Mt,agGroupRowRenderer:Mt,agDetailCellRenderer:$n},this.wrapIncoming=(e,t)=>t==="ensureVisible"?yr(e):e(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}shouldQueueUpdates(){return!1}getLockOnRefreshError(){return" This error can also occur if using 'ReactDOM.render' instead of 'createRoot'. If so, please upgrade to 'createRoot'."}},Jn=class extends Kt{constructor(e){super(),this.processQueuedUpdates=e,this.queueUpdates=!1}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}getLockOnRefreshError(){return""}},Kn=class extends Xt{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return Zt.createElement(Jt,{...this.props,setGridApi:this.setGridApi})}};import{useContext as Qn}from"react";function Ve(e){const{setMethods:t}=Qn(De);t(e)}function qn(e){Ve(e)}function Yn(e){return Ve(e)}function Zn(e){return Ve(e)}function Xn(e){Ve(e)}function eo(e){Ve(e)}export{Kn as AgGridReact,De as CustomComponentContext,_r as getInstance,qn as useGridCellEditor,Yn as useGridDate,Zn as useGridFilter,Xn as useGridFloatingFilter,eo as useGridMenuItem,Ye as warnReactiveCustomComponents};
