(function(ke,Fe){typeof exports=="object"&&typeof module=="object"?module.exports=Fe(require("ag-grid-community"),require("react"),require("react-dom")):typeof define=="function"&&define.amd?define("AgGridReact",["ag-grid-community","react","react-dom"],Fe):typeof exports=="object"?exports.AgGridReact=Fe(require("ag-grid-community"),require("react"),require("react-dom")):ke.AgGridReact=Fe(ke["ag-grid-community"],ke.react,ke["react-dom"])})(this,(ke,Fe,es)=>{var Ve={},_e={exports:Ve},vt=Object.create,We=Object.defineProperty,wt=Object.getOwnPropertyDescriptor,St=Object.getOwnPropertyNames,bt=Object.getPrototypeOf,Et=Object.prototype.hasOwnProperty,Pt=(e,t)=>{for(var r in t)We(e,r,{get:t[r],enumerable:!0})},et=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of St(t))!Et.call(e,n)&&n!==r&&We(e,n,{get:()=>t[n],enumerable:!(s=wt(t,n))||s.enumerable});return e},X=(e,t,r)=>(r=e!=null?vt(bt(e)):{},et(t||!e||!e.__esModule?We(r,"default",{value:e,enumerable:!0}):r,e)),Mt=e=>et(We({},"__esModule",{value:!0}),e),tt={};Pt(tt,{AgGridReact:()=>jr,CustomComponentContext:()=>xe,getInstance:()=>nr,useGridCellEditor:()=>zr,useGridDate:()=>$r,useGridFilter:()=>Jr,useGridFloatingFilter:()=>Kr,useGridMenuItem:()=>Qr,warnReactiveCustomComponents:()=>Ue}),_e.exports=Mt(tt);var rt=X(require("react"),1),ye=require("ag-grid-community"),_=X(require("react"),1),kt=require("ag-grid-community"),O=X(require("react"),1),Ft=X(require("react"),1),je=X(require("react-dom"),1),ze=require("ag-grid-community"),Ge=X(require("react"),1),_t=require("react"),Oe=require("ag-grid-community"),Gt=require("react"),Ot=require("react-dom"),It=require("ag-grid-community"),st=require("ag-grid-community"),At=require("ag-grid-community"),W=X(require("react"),1),Re=require("ag-grid-community"),b=X(require("react"),1),xt=require("ag-grid-community"),ie=X(require("react"),1),Dt=require("ag-grid-community"),ne=X(require("react"),1),nt=require("ag-grid-community"),oe=X(require("react"),1),$e=require("ag-grid-community"),re=X(require("react"),1),Bt=require("ag-grid-community"),x=X(require("react"),1),j=X(require("react"),1),Wt=require("react"),ot=require("ag-grid-community"),$=X(require("react"),1),Tt=require("ag-grid-community"),I=X(require("react"),1),at=require("ag-grid-community"),f=X(require("react"),1),Nt=require("ag-grid-community"),Ie=X(require("react"),1),Ht=require("react-dom"),Se=require("react"),Te=require("react"),Ne=require("ag-grid-community"),ue=X(require("react"),1),Ut=require("ag-grid-community"),qt=require("react"),ae=Ft.default.createContext({}),Ae=(e,t,r,s)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const a=e.newAgStackInstance();if(a==null)return;let c,o,i=!1;return a.then(l=>{if(i){t.destroyBean(l);return}c=l,o=c.getGui(),r.appendChild(o),ct(s,c)}),()=>{i=!0,c&&(o&&o.parentElement&&o.parentElement.removeChild(o),t.destroyBean(c),s&&ct(s,void 0))}},ct=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const r=e;r.current=t}},me=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),pe=class Rt{constructor(...t){this.classesMap={},t.forEach(r=>{this.classesMap[r]=!0})}setClass(t,r){if(!!this.classesMap[t]==r)return this;const n=new Rt;return n.classesMap={...this.classesMap},n.classesMap[t]=r,n}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},be=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,r=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},lt=je.default.createRoot!=null&&je.default.flushSync!=null;function Lt(){return!lt}var He=!1;function Vt(e){return He||setTimeout(()=>He=!1,0),He=!0,e()}var Je=(e,t)=>{lt&&e&&!He?je.default.flushSync(t):t()};function Ke(e,t,r){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(r||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const s=[],n=[],a=new Map,c=new Map;for(let o=0;o<t.length;o++){const i=t[o];c.set(i.getInstanceId(),i)}for(let o=0;o<e.length;o++){const i=e[o];a.set(i.getInstanceId(),i),c.has(i.getInstanceId())&&s.push(i)}for(let o=0;o<t.length;o++){const i=t[o],l=i.getInstanceId();a.has(l)||n.push(i)}return s.length===e.length&&n.length===0?e:s.length===0&&n.length===t.length?t:s.length===0?n:n.length===0?s:[...s,...n]}var it=(0,O.forwardRef)((e,t)=>{const{ctrlsFactory:r,context:s}=(0,O.useContext)(ae),n=(0,O.useRef)(null),a=(0,O.useRef)(null),c=(0,O.useRef)(null),o=(0,O.useRef)(null),i=(0,O.useRef)(null),l=(0,O.useRef)(),[m,d]=(0,O.useState)(),[w,v]=(0,O.useState)(),[u,y]=(0,O.useState)(),[p,h]=(0,O.useState)(()=>new pe),[S,E]=(0,O.useState)(()=>new pe("ag-hidden")),[g,z]=(0,O.useState)(()=>new pe("ag-hidden")),[P,U]=(0,O.useState)(()=>new pe("ag-invisible"));(0,O.useImperativeHandle)(t,()=>({refresh(){return!1}})),(0,O.useLayoutEffect)(()=>Ae(m,s,a.current),[m]);const M=(0,O.useCallback)(T=>{if(n.current=T,!n.current){s.destroyBean(l.current),l.current=null;return}const N={setInnerRenderer:(A,H)=>{d(A),y(H)},setChildCount:A=>v(A),addOrRemoveCssClass:(A,H)=>h(D=>D.setClass(A,H)),setContractedDisplayed:A=>z(H=>H.setClass("ag-hidden",!A)),setExpandedDisplayed:A=>E(H=>H.setClass("ag-hidden",!A)),setCheckboxVisible:A=>U(H=>H.setClass("ag-invisible",!A))},K=r.getInstance("groupCellRendererCtrl");K&&(l.current=s.createBean(K),l.current.init(N,n.current,c.current,o.current,i.current,it,e))},[]),R=(0,O.useMemo)(()=>`ag-cell-wrapper ${p.toString()}`,[p]),C=(0,O.useMemo)(()=>`ag-group-expanded ${S.toString()}`,[S]),k=(0,O.useMemo)(()=>`ag-group-contracted ${g.toString()}`,[g]),F=(0,O.useMemo)(()=>`ag-group-checkbox ${P.toString()}`,[P]),q=m&&m.componentFromFramework,J=q?m.componentClass:void 0,L=m==null&&u!=null,V=(0,kt._escapeString)(u,!0);return O.default.createElement("span",{className:R,ref:M,...e.colDef?{}:{role:l.current?.getCellAriaRole()}},O.default.createElement("span",{className:C,ref:o}),O.default.createElement("span",{className:k,ref:i}),O.default.createElement("span",{className:F,ref:c}),O.default.createElement("span",{className:"ag-group-value",ref:a},L&&O.default.createElement(O.default.Fragment,null,V),q&&O.default.createElement(J,{...m.params})),O.default.createElement("span",{className:"ag-group-child-count"},w))}),ut=it,xe=(0,_t.createContext)({setMethods:()=>{}}),jt=e=>{const{initialProps:t,addUpdateCallback:r,CustomComponentClass:s,setMethods:n}=e,[a,c]=(0,Ge.useState)(t);return(0,Ge.useEffect)(()=>{r(o=>c(o))},[]),Ge.default.createElement(xe.Provider,{value:{setMethods:n}},Ge.default.createElement(s,{...a}))},zt=(0,Ge.memo)(jt),$t=0;function dt(){return`agPortalKey_${++$t}`}var pt=class{constructor(e,t,r,s){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!s,this.statelessComponent=this.isStateless(this.reactComponent),this.key=dt(),this.portalKey=dt(),this.instanceCreated=this.isStatelessComponent()?Oe.AgPromise.resolve(!1):new Oe.AgPromise(n=>{this.resolveInstanceCreated=n})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&((0,Oe._warnOnce)('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&((0,Oe._warnOnce)('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(t=>this.eParentElement.classList.add(t))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r){setTimeout(()=>this.callMethod(e,t));return}const s=r[e];if(s)return s.apply(r,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new Oe.AgPromise(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{this.componentInstance=t,this.addParentContainerStyleAndClasses(),this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=(0,Ot.createPortal)(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return(0,Gt.createElement)(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function Qe(e,t,r){e.forEach(s=>{const n=t[s];n&&(r[s]=n)})}var he=class extends pt{constructor(){super(...arguments),this.awaitUpdateCallback=new ze.AgPromise(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=zt}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new ze.AgPromise(s=>{setTimeout(()=>{s()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,Qe(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new ze.AgPromise(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},Jt=class extends he{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Kt=class extends he{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Qt=class extends he{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};function mt(e,t){e.parentFilterInstance(r=>{(r.setModel(t)||It.AgPromise.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var Yt=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){Qe(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),mt(this.floatingFilterParams,e)}},Zt=class extends he{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),mt(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},Xt=class extends he{refresh(e){this.sourceParams=e,this.refreshProps()}},er=class extends he{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},tr=class extends he{refresh(e){this.sourceParams=e,this.refreshProps()}},rr=class extends he{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},sr=class extends he{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function nr(e,t){(e?.getInstance?.()??st.AgPromise.resolve(void 0)).then(s=>t(s))}function Ue(){(0,st._warnOnce)("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var or=1e3,ar=class{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||or}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed){t(null);return}if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}},cr=e=>{const{ctrl:t}=e,r=t.isAlive(),{context:s}=(0,re.useContext)(ae),n=r?t.getColId():void 0,[a,c]=(0,re.useState)(),o=(0,re.useRef)(null),i=(0,re.useRef)(null),l=(0,re.useRef)(null),m=(0,re.useRef)(),d=(0,re.useRef)();r&&!d.current&&(d.current=new $e.CssClassManager(()=>o.current));const w=(0,re.useCallback)(p=>{if(o.current=p,!o.current||!r)return;const h={setWidth:E=>{o.current&&(o.current.style.width=E)},addOrRemoveCssClass:(E,g)=>d.current.addOrRemoveCssClass(E,g),setAriaSort:E=>{o.current&&(E?(0,$e._setAriaSort)(o.current,E):(0,$e._removeAriaSort)(o.current))},setUserCompDetails:E=>c(E),getUserCompInstance:()=>m.current||void 0};t.setComp(h,o.current,i.current,l.current);const S=t.getSelectAllGui();i.current?.insertAdjacentElement("afterend",S)},[]);(0,re.useLayoutEffect)(()=>Ae(a,s,l.current,m),[a]),(0,re.useEffect)(()=>{t.setDragSource(o.current)},[a]);const v=(0,re.useMemo)(()=>!!(a?.componentFromFramework&&be(a.componentClass)),[a]),u=a&&a.componentFromFramework,y=a&&a.componentClass;return re.default.createElement("div",{ref:w,className:"ag-header-cell","col-id":n,role:"columnheader"},re.default.createElement("div",{ref:i,className:"ag-header-cell-resize",role:"presentation"}),re.default.createElement("div",{ref:l,className:"ag-header-cell-comp-wrapper",role:"presentation"},u&&v&&re.default.createElement(y,{...a.params}),u&&!v&&re.default.createElement(y,{...a.params,ref:m})))},lr=(0,re.memo)(cr),ir=e=>{const{context:t,gos:r}=(0,x.useContext)(ae),[s,n]=(0,x.useState)(()=>new pe("ag-header-cell","ag-floating-filter")),[a,c]=(0,x.useState)(()=>new pe),[o,i]=(0,x.useState)(()=>new pe("ag-floating-filter-button","ag-hidden")),[l,m]=(0,x.useState)("false"),[d,w]=(0,x.useState)(),[,v]=(0,x.useState)(1),u=(0,x.useRef)(null),y=(0,x.useRef)(null),p=(0,x.useRef)(null),h=(0,x.useRef)(null),S=(0,x.useRef)(),E=(0,x.useRef)(),g=V=>{V!=null&&S.current&&S.current(V)},{ctrl:z}=e,P=(0,x.useCallback)(V=>{if(u.current=V,!u.current)return;E.current=new Bt.AgPromise(N=>{S.current=N});const T={addOrRemoveCssClass:(N,K)=>n(A=>A.setClass(N,K)),addOrRemoveBodyCssClass:(N,K)=>c(A=>A.setClass(N,K)),setButtonWrapperDisplayed:N=>{i(K=>K.setClass("ag-hidden",!N)),m(N?"false":"true")},setWidth:N=>{u.current&&(u.current.style.width=N)},setCompDetails:N=>w(N),getFloatingFilterComp:()=>E.current?E.current:null,setMenuIcon:N=>h.current?.appendChild(N)};z.setComp(T,u.current,h.current,y.current)},[]);(0,x.useLayoutEffect)(()=>Ae(d,t,y.current,g),[d]);const U=(0,x.useMemo)(()=>s.toString(),[s]),M=(0,x.useMemo)(()=>a.toString(),[a]),R=(0,x.useMemo)(()=>o.toString(),[o]),C=(0,x.useMemo)(()=>!!(d&&d.componentFromFramework&&be(d.componentClass)),[d]),k=(0,x.useMemo)(()=>r.get("reactiveCustomComponents"),[]),F=(0,x.useMemo)(()=>{if(d)if(k){const V=new Yt(d.params,()=>v(T=>T+1));return g(V),V}else d.componentFromFramework&&Ue()},[d]),q=F?.getProps(),J=d&&d.componentFromFramework,L=d&&d.componentClass;return x.default.createElement("div",{ref:P,className:U,role:"gridcell"},x.default.createElement("div",{ref:y,className:M,role:"presentation"},J&&!k&&x.default.createElement(L,{...d.params,ref:C?()=>{}:g}),J&&k&&x.default.createElement(xe.Provider,{value:{setMethods:V=>F.setMethods(V)}},x.default.createElement(L,{...q}))),x.default.createElement("div",{ref:p,"aria-hidden":l,className:R,role:"presentation"},x.default.createElement("button",{ref:h,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},ur=(0,x.memo)(ir),dr=e=>{const{context:t}=(0,j.useContext)(ae),{ctrl:r}=e,[s,n]=(0,j.useState)(()=>new pe),[a,c]=(0,j.useState)(()=>new pe),[o,i]=(0,j.useState)("false"),[l,m]=(0,j.useState)(),[d,w]=(0,j.useState)(),v=(0,j.useMemo)(()=>r.getColId(),[]),u=(0,j.useRef)(null),y=(0,j.useRef)(null),p=(0,j.useRef)(null),h=(0,j.useRef)(),S=(0,j.useCallback)(M=>{if(u.current=M,!u.current)return;const R={setWidth:C=>{u.current&&(u.current.style.width=C)},addOrRemoveCssClass:(C,k)=>n(F=>F.setClass(C,k)),setUserCompDetails:C=>w(C),setResizableDisplayed:C=>{c(k=>k.setClass("ag-hidden",!C)),i(C?"false":"true")},setAriaExpanded:C=>m(C),getUserCompInstance:()=>h.current||void 0};r.setComp(R,u.current,y.current,p.current)},[]);(0,j.useLayoutEffect)(()=>Ae(d,t,p.current),[d]),(0,j.useEffect)(()=>{u.current&&r.setDragSource(u.current)},[d]);const E=(0,j.useMemo)(()=>!!(d?.componentFromFramework&&be(d.componentClass)),[d]),g=(0,j.useMemo)(()=>"ag-header-group-cell "+s.toString(),[s]),z=(0,j.useMemo)(()=>"ag-header-cell-resize "+a.toString(),[a]),P=d&&d.componentFromFramework,U=d&&d.componentClass;return j.default.createElement("div",{ref:S,className:g,"col-id":v,role:"columnheader","aria-expanded":l},j.default.createElement("div",{ref:p,className:"ag-header-cell-comp-wrapper",role:"presentation"},P&&E&&j.default.createElement(U,{...d.params}),P&&!E&&j.default.createElement(U,{...d.params,ref:h})),j.default.createElement("div",{ref:y,"aria-hidden":o,className:z}))},pr=(0,j.memo)(dr),mr=e=>{const{ctrl:t}=e,{topOffset:r,rowHeight:s}=(0,oe.useMemo)(()=>t.getTopAndHeight(),[]),n=t.getAriaRowIndex(),a=t.getHeaderRowClass(),[c,o]=(0,oe.useState)(()=>s+"px"),[i,l]=(0,oe.useState)(()=>r+"px"),m=(0,oe.useRef)(null),d=(0,oe.useRef)(null),[w,v]=(0,oe.useState)(()=>t.getHeaderCtrls()),u=(0,oe.useRef)(null),y=(0,oe.useCallback)(S=>{if(u.current=S,!S)return;const E={setHeight:g=>o(g),setTop:g=>l(g),setHeaderCtrls:(g,z,P)=>{d.current=m.current,m.current=g;const U=Ke(d.current,g,z);U!==d.current&&Je(P,()=>v(U))},setWidth:g=>{u.current&&(u.current.style.width=g)}};t.setComp(E,!1)},[]),p=(0,oe.useMemo)(()=>({height:c,top:i}),[c,i]),h=(0,oe.useCallback)(S=>{switch(t.getType()){case nt.HeaderRowType.COLUMN_GROUP:return oe.default.createElement(pr,{ctrl:S,key:S.getInstanceId()});case nt.HeaderRowType.FLOATING_FILTER:return oe.default.createElement(ur,{ctrl:S,key:S.getInstanceId()});default:return oe.default.createElement(lr,{ctrl:S,key:S.getInstanceId()})}},[]);return oe.default.createElement("div",{ref:y,className:a,role:"row",style:p,"aria-rowindex":n},w.map(h))},fr=(0,oe.memo)(mr),hr=e=>{const[t,r]=(0,ne.useState)(!0),[s,n]=(0,ne.useState)([]),{context:a}=(0,ne.useContext)(ae),c=(0,ne.useRef)(null),o=(0,ne.useRef)(null),i=(0,ne.useRef)(null),l=e.pinned==="left",m=e.pinned==="right",d=!l&&!m,w=(0,ne.useCallback)(y=>{if(c.current=y,!c.current){a.destroyBean(i.current),i.current=null;return}const p={setDisplayed:r,setCtrls:h=>n(h),setCenterWidth:h=>{o.current&&(o.current.style.width=h)},setViewportScrollLeft:h=>{c.current&&(c.current.scrollLeft=h)},setPinnedContainerWidth:h=>{c.current&&(c.current.style.width=h,c.current.style.minWidth=h,c.current.style.maxWidth=h)}};i.current=a.createBean(new Dt.HeaderRowContainerCtrl(e.pinned)),i.current.setComp(p,c.current)},[]),v=t?"":"ag-hidden",u=()=>s.map(y=>ne.default.createElement(fr,{ctrl:y,key:y.getInstanceId()}));return ne.default.createElement(ne.default.Fragment,null,l&&ne.default.createElement("div",{ref:w,className:"ag-pinned-left-header "+v,"aria-hidden":!t,role:"rowgroup"},u()),m&&ne.default.createElement("div",{ref:w,className:"ag-pinned-right-header "+v,"aria-hidden":!t,role:"rowgroup"},u()),d&&ne.default.createElement("div",{ref:w,className:"ag-header-viewport "+v,role:"presentation"},ne.default.createElement("div",{ref:o,className:"ag-header-container",role:"rowgroup"},u())))},Ye=(0,ne.memo)(hr),Cr=()=>{const[e,t]=(0,ie.useState)(()=>new pe),[r,s]=(0,ie.useState)(),{context:n}=(0,ie.useContext)(ae),a=(0,ie.useRef)(null),c=(0,ie.useRef)(null),o=(0,ie.useCallback)(m=>{if(a.current=m,!m){n.destroyBean(c.current),c.current=null;return}const d={addOrRemoveCssClass:(w,v)=>t(u=>u.setClass(w,v)),setHeightAndMinHeight:w=>s(w)};c.current=n.createBean(new xt.GridHeaderCtrl),c.current.setComp(d,a.current,a.current)},[]),i=(0,ie.useMemo)(()=>"ag-header "+e.toString(),[e]),l=(0,ie.useMemo)(()=>({height:r,minHeight:r}),[r]);return ie.default.createElement("div",{ref:o,className:i,style:l,role:"presentation"},ie.default.createElement(Ye,{pinned:"left"}),ie.default.createElement(Ye,{pinned:null}),ie.default.createElement(Ye,{pinned:"right"}))},gr=(0,ie.memo)(Cr),yr=(e,t)=>{(0,Wt.useEffect)(()=>{const r=t.current;if(r){const s=r.parentElement;if(s){const n=document.createComment(e);return s.insertBefore(n,r),()=>{s.removeChild(n)}}}},[e])},ve=yr,Rr=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new Nt.AgPromise(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){Qe(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},vr=e=>{const t=(0,Se.useRef)(e),r=(0,Se.useRef)(),s=(0,Se.useRef)(!1),n=(0,Se.useRef)(!1),[,a]=(0,Se.useState)(0);s.current&&(n.current=!0),(0,Se.useEffect)(()=>(s.current||(r.current=t.current(),s.current=!0),a(c=>c+1),()=>{n.current&&r.current&&r.current()}),[])},wr=e=>{const[t,r]=(0,Ie.useState)(),{context:s,popupService:n,localeService:a,gos:c,editService:o}=(0,Ie.useContext)(ae);return vr(()=>{const{editDetails:i,cellCtrl:l,eParentCell:m}=e,{compDetails:d}=i,w=c.get("stopEditingWhenCellsLoseFocus"),v=s.createBean(o.createPopupEditorWrapper(d.params)),u=v.getGui();if(e.jsChildComp){const g=e.jsChildComp.getGui();g&&u.appendChild(g)}const y={column:l.getColumn(),rowNode:l.getRowNode(),type:"popupCellEditor",eventSource:m,ePopup:u,position:i.popupPosition,keepWithinBounds:!0},p=n.positionPopupByComponent.bind(n,y),h=a.getLocaleTextFunc(),S=n.addPopup({modal:w,eChild:u,closeOnEsc:!0,closedCallback:()=>{l.onPopupEditorClosed()},anchorToElement:m,positionCallback:p,ariaLabel:h("ariaLabelCellEditor","Cell Editor")}),E=S?S.hideFunc:void 0;return r(v),e.jsChildComp&&e.jsChildComp.afterGuiAttached&&e.jsChildComp.afterGuiAttached(),()=>{E?.(),s.destroyBean(v)}}),Ie.default.createElement(Ie.default.Fragment,null,t&&e.wrappedContent&&(0,Ht.createPortal)(e.wrappedContent,t.getGui()))},ft=(0,Ie.memo)(wr),Sr=(e,t,r,s,n,a)=>{const{context:c}=(0,Te.useContext)(ae),o=(0,Te.useCallback)(()=>{const i=n.current;if(!i)return;const l=i.getGui();l&&l.parentElement&&l.parentElement.removeChild(l),c.destroyBean(i),n.current=void 0},[]);(0,Te.useEffect)(()=>{const i=e!=null,l=e&&e.compDetails&&!e.compDetails.componentFromFramework,m=t&&r==null;if(!(i&&l&&!m)){o();return}const w=e.compDetails;if(n.current){const u=n.current,p=u.refresh!=null&&e.force==!1?u.refresh(w.params):!1;if(p===!0||p===void 0)return;o()}const v=w.newAgStackInstance();v?.then(u=>{if(!u)return;const y=u.getGui();if(!y)return;(t?r:a.current).appendChild(y),n.current=u})},[e,t,s]),(0,Te.useEffect)(()=>o,[])},br=Sr,Er=(e,t,r)=>{const{compProxy:s}=e;r(s);const n=s.getProps(),a=be(t);return f.default.createElement(xe.Provider,{value:{setMethods:c=>s.setMethods(c)}},a&&f.default.createElement(t,{...n}),!a&&f.default.createElement(t,{...n,ref:c=>s.setRef(c)}))},ht=(e,t,r)=>{const s=e.compProxy;return f.default.createElement(f.default.Fragment,null,!s&&f.default.createElement(t,{...e.compDetails.params,ref:r}),s&&Er(e,t,r))},Pr=(e,t,r,s,n,a)=>{const c=e.compDetails,o=c.componentClass,i=c.componentFromFramework&&!e.popup,l=c.componentFromFramework&&e.popup,m=!c.componentFromFramework&&e.popup;return f.default.createElement(f.default.Fragment,null,i&&ht(e,o,t),l&&f.default.createElement(ft,{editDetails:e,cellCtrl:n,eParentCell:s,wrappedContent:ht(e,o,r)}),m&&a&&f.default.createElement(ft,{editDetails:e,cellCtrl:n,eParentCell:s,jsChildComp:a}))},Mr=(e,t,r,s,n,a,c)=>{const{compDetails:o,value:i}=e,l=!o,m=o&&o.componentFromFramework,d=o&&o.componentClass,w=i?.toString?i.toString():i,v=()=>f.default.createElement(f.default.Fragment,null,l&&f.default.createElement(f.default.Fragment,null,w),m&&!a&&f.default.createElement(d,{...o.params,key:t,ref:s}),m&&a&&f.default.createElement(d,{...o.params,key:t}));return f.default.createElement(f.default.Fragment,null,n?f.default.createElement("span",{role:"presentation",id:`cell-${r}`,className:"ag-cell-value",ref:c},v()):v())},kr=e=>{const{context:t}=(0,f.useContext)(ae),{cellCtrl:r,printLayout:s,editingRow:n}=e,a=r.getColumnIdSanitised(),c=r.getInstanceId(),[o,i]=(0,f.useState)(()=>r.isCellRenderer()?void 0:{compDetails:void 0,value:r.getValueToDisplay(),force:!1}),[l,m]=(0,f.useState)(),[d,w]=(0,f.useState)(1),[v,u]=(0,f.useState)(),[y,p]=(0,f.useState)(!1),[h,S]=(0,f.useState)(!1),[E,g]=(0,f.useState)(!1),[z,P]=(0,f.useState)(),U=(0,f.useMemo)(()=>r.isForceWrapper(),[r]),M=(0,f.useMemo)(()=>r.getCellAriaRole(),[r]),R=(0,f.useRef)(null),C=(0,f.useRef)(null),k=(0,f.useRef)(),F=(0,f.useRef)(),q=(0,f.useRef)(),J=(0,f.useRef)([]),L=(0,f.useRef)(),[V,T]=(0,f.useState)(0),N=(0,f.useCallback)(te=>{L.current=te,T(Y=>Y+1)},[]),K=o!=null&&(y||E||h),A=U||K,H=(0,f.useCallback)((te,Y)=>{F.current=Y,Y&&Y.isCancelBeforeStart&&Y.isCancelBeforeStart()&&setTimeout(()=>{r.stopEditing(!0),r.focusCell(!0)})},[r]),D=(0,f.useCallback)(te=>H(!0,te),[H]),se=(0,f.useCallback)(te=>H(!1,te),[H]),G=(0,f.useRef)();G.current||(G.current=new at.CssClassManager(()=>R.current)),br(o,A,L.current,V,k,R);const fe=(0,f.useRef)();(0,f.useLayoutEffect)(()=>{const te=fe.current,Y=o;if(fe.current=o,te==null||te.compDetails==null||Y==null||Y.compDetails==null)return;const ee=te.compDetails,B=Y.compDetails;if(ee.componentClass!=B.componentClass||C.current==null||C.current.refresh==null)return;C.current.refresh(B.params)!=!0&&w(le=>le+1)},[o]),(0,f.useLayoutEffect)(()=>{if(!(l&&!l.compDetails.componentFromFramework))return;const Y=l.compDetails,ee=l.popup===!0,B=Y.newAgStackInstance();return B.then(Z=>{if(!Z)return;const le=Z.getGui();H(ee,Z),ee||((U?q:R).current?.appendChild(le),Z.afterGuiAttached&&Z.afterGuiAttached()),P(Z)}),()=>{B.then(Z=>{const le=Z.getGui();t.destroyBean(Z),H(ee,void 0),P(void 0),le&&le.parentElement&&le.parentElement.removeChild(le)})}},[l]);const ce=(0,f.useCallback)(te=>{if(q.current=te,!q.current){J.current.forEach(ee=>ee()),J.current=[];return}const Y=ee=>{if(ee){const B=ee.getGui();q.current?.insertAdjacentElement("afterbegin",B),J.current.push(()=>{t.destroyBean(ee),(0,at._removeFromParent)(B)})}return ee};if(y){const ee=r.createSelectionCheckbox();Y(ee)}E&&Y(r.createDndSource()),h&&Y(r.createRowDragComp())},[r,t,E,h,y]),Ce=(0,f.useCallback)(te=>{if(R.current=te,!R.current||!r)return;const Y={addOrRemoveCssClass:(B,Z)=>G.current.addOrRemoveCssClass(B,Z),setUserStyles:B=>u(B),getFocusableElement:()=>R.current,setIncludeSelection:B=>p(B),setIncludeRowDrag:B=>S(B),setIncludeDndSource:B=>g(B),getCellEditor:()=>F.current||null,getCellRenderer:()=>C.current?C.current:k.current,getParentOfValue:()=>L.current?L.current:q.current?q.current:R.current,setRenderDetails:(B,Z,le)=>{i(ge=>ge?.compDetails!==B||ge?.value!==Z||ge?.force!==le?{value:Z,compDetails:B,force:le}:ge)},setEditDetails:(B,Z,le,ge)=>{if(B){let Pe;ge?Pe=new Rr(B.params,()=>w(we=>we+1)):B.componentFromFramework&&Ue(),m({compDetails:B,popup:Z,popupPosition:le,compProxy:Pe}),Z||i(void 0)}else m(Pe=>{Pe?.compProxy&&(F.current=void 0)})}},ee=q.current||void 0;r.setComp(Y,R.current,ee,s,n)},[]),Ee=(0,f.useMemo)(()=>!!(o&&o.compDetails&&o.compDetails.componentFromFramework&&be(o.compDetails.componentClass)),[o]);(0,f.useLayoutEffect)(()=>{R.current&&(G.current.addOrRemoveCssClass("ag-cell-value",!A),G.current.addOrRemoveCssClass("ag-cell-inline-editing",!!l&&!l.popup),G.current.addOrRemoveCssClass("ag-cell-popup-editing",!!l&&!!l.popup),G.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!l||!!l.popup),r.getRowCtrl()?.setInlineEditingCss(),r.shouldRestoreFocus()&&!r.isEditing()&&R.current.focus({preventScroll:!0}))});const qe=()=>f.default.createElement(f.default.Fragment,null,o!=null&&Mr(o,d,c,C,A,Ee,N),l!=null&&Pr(l,se,D,R.current,r,z)),Ze=(0,f.useCallback)(()=>r.onFocusOut(),[]);return f.default.createElement("div",{ref:Ce,style:v,role:M,"col-id":a,onBlur:Ze},A?f.default.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:ce},qe()):qe())},Fr=(0,f.memo)(kr),_r=e=>{const{context:t,gos:r}=(0,I.useContext)(ae),{rowCtrl:s,containerType:n}=e,a=(0,I.useRef)(s.getDomOrder()),c=s.isFullWidth(),o=s.getRowNode().displayed,[i,l]=(0,I.useState)(()=>o?s.getRowIndex():null),[m,d]=(0,I.useState)(()=>s.getRowId()),[w,v]=(0,I.useState)(()=>s.getBusinessKey()),[u,y]=(0,I.useState)(()=>s.getRowStyles()),p=(0,I.useRef)(null),h=(0,I.useRef)(null),[S,E]=(0,I.useState)(()=>null),[g,z]=(0,I.useState)(),[P,U]=(0,I.useState)(()=>o?s.getInitialRowTop(n):void 0),[M,R]=(0,I.useState)(()=>o?s.getInitialTransform(n):void 0),C=(0,I.useRef)(null),k=(0,I.useRef)(),F=(0,I.useRef)(!1),[q,J]=(0,I.useState)(0);(0,I.useEffect)(()=>{if(F.current||!g||q>10)return;const G=C.current?.firstChild;G?(s.setupDetailRowAutoHeight(G),F.current=!0):J(fe=>fe+1)},[g,q]);const L=(0,I.useRef)();L.current||(L.current=new Tt.CssClassManager(()=>C.current));const V=(0,I.useCallback)(G=>{if(C.current=G,!C.current){s.unsetComp(n);return}if(!s.isAlive())return;const fe={setTop:U,setTransform:R,addOrRemoveCssClass:(ce,Ce)=>L.current.addOrRemoveCssClass(ce,Ce),setDomOrder:ce=>a.current=ce,setRowIndex:l,setRowId:d,setRowBusinessKey:v,setUserStyles:y,setCellCtrls:(ce,Ce)=>{h.current=p.current,p.current=ce;const Ee=Ke(h.current,ce,a.current);Ee!==h.current&&Je(Ce,()=>E(Ee))},showFullWidth:ce=>z(ce),getFullWidthCellRenderer:()=>k.current,refreshFullWidth:ce=>H.current?(z(Ce=>({...Ce,params:ce()})),!0):!k.current||!k.current.refresh?!1:k.current.refresh(ce())};s.setComp(fe,C.current,n)},[]);(0,I.useLayoutEffect)(()=>Ae(g,t,C.current,k),[g]);const T=(0,I.useMemo)(()=>{const G={top:P,transform:M};return Object.assign(G,u),G},[P,M,u]),N=c&&g&&g.componentFromFramework,K=!c&&S!=null,A=(0,I.useMemo)(()=>!!(g?.componentFromFramework&&be(g.componentClass)),[g]),H=(0,I.useRef)(!1);(0,I.useEffect)(()=>{H.current=A&&!!g&&!!r.get("reactiveCustomComponents")},[A,g]);const D=()=>S?.map(G=>I.default.createElement(Fr,{cellCtrl:G,editingRow:s.isEditing(),printLayout:s.isPrintLayout(),key:G.getInstanceId()})),se=()=>{const G=g.componentClass;return I.default.createElement(I.default.Fragment,null,A&&I.default.createElement(G,{...g.params}),!A&&I.default.createElement(G,{...g.params,ref:k}))};return I.default.createElement("div",{ref:V,role:"row",style:T,"row-index":i,"row-id":m,"row-business-key":w},K&&D(),N&&se())},Gr=(0,I.memo)(_r),Or=e=>{const{context:t}=(0,$.useContext)(ae),{name:r}=e,s=(0,$.useMemo)(()=>(0,ot._getRowContainerOptions)(r),[r]),n=(0,$.useRef)(null),a=(0,$.useRef)(null),c=(0,$.useRef)([]),o=(0,$.useRef)([]),[i,l]=(0,$.useState)(()=>[]),m=(0,$.useRef)(!1),d=(0,$.useRef)(),w=(0,$.useMemo)(()=>me(s.viewport),[s]),v=(0,$.useMemo)(()=>me(s.container),[s]),u=s.type==="center",y=u?n:a;ve(" AG Row Container "+r+" ",y);const p=(0,$.useCallback)(()=>u?n.current!=null&&a.current!=null:a.current!=null,[]),h=(0,$.useCallback)(()=>u?n.current==null&&a.current==null:a.current==null,[]),S=(0,$.useCallback)(()=>{if(h()&&(t.destroyBean(d.current),d.current=null),p()){const P=M=>{const R=Ke(o.current,c.current,m.current);R!==o.current&&(o.current=R,Je(M,()=>l(R)))},U={setHorizontalScroll:M=>{n.current&&(n.current.scrollLeft=M)},setViewportHeight:M=>{n.current&&(n.current.style.height=M)},setRowCtrls:({rowCtrls:M,useFlushSync:R})=>{const C=!!R&&c.current.length>0&&M.length>0;c.current=M,P(C)},setDomOrder:M=>{m.current!=M&&(m.current=M,P(!1))},setContainerWidth:M=>{a.current&&(a.current.style.width=M)},setOffsetTop:M=>{a.current&&(a.current.style.transform=`translateY(${M})`)}};d.current=t.createBean(new ot.RowContainerCtrl(r)),d.current.setComp(U,a.current,n.current)}},[p,h]),E=(0,$.useCallback)(P=>{a.current=P,S()},[S]),g=(0,$.useCallback)(P=>{n.current=P,S()},[S]),z=()=>$.default.createElement("div",{className:v,ref:E,role:"rowgroup"},i.map(P=>$.default.createElement(Gr,{rowCtrl:P,containerType:s.type,key:P.getInstanceId()})));return $.default.createElement($.default.Fragment,null,u?$.default.createElement("div",{className:w,ref:g,role:"presentation"},z()):z())},Ir=(0,$.memo)(Or),Ar=()=>{const{context:e,resizeObserverService:t}=(0,b.useContext)(ae),[r,s]=(0,b.useState)(""),[n,a]=(0,b.useState)(0),[c,o]=(0,b.useState)(0),[i,l]=(0,b.useState)("0px"),[m,d]=(0,b.useState)("0px"),[w,v]=(0,b.useState)("100%"),[u,y]=(0,b.useState)("0px"),[p,h]=(0,b.useState)("0px"),[S,E]=(0,b.useState)("100%"),[g,z]=(0,b.useState)(""),[P,U]=(0,b.useState)(""),[M,R]=(0,b.useState)(null),[C,k]=(0,b.useState)(""),[F,q]=(0,b.useState)(null),[J,L]=(0,b.useState)("ag-layout-normal"),V=(0,b.useRef)();V.current||(V.current=new Re.CssClassManager(()=>T.current));const T=(0,b.useRef)(null),N=(0,b.useRef)(null),K=(0,b.useRef)(null),A=(0,b.useRef)(null),H=(0,b.useRef)(null),D=(0,b.useRef)(null),se=(0,b.useRef)(null),G=(0,b.useRef)([]),fe=(0,b.useRef)([]);ve(" AG Grid Body ",T),ve(" AG Pinned Top ",N),ve(" AG Sticky Top ",K),ve(" AG Middle ",D),ve(" AG Pinned Bottom ",se);const ce=(0,b.useCallback)(Me=>{if(T.current=Me,!T.current){e.destroyBeans(G.current),fe.current.forEach(Q=>Q()),G.current=[],fe.current=[];return}if(!e)return;const Le=(Q,de)=>{Q.appendChild(de),fe.current.push(()=>Q.removeChild(de))},Xe=Q=>{const de=e.createBean(new Q);return G.current.push(de),de},Be=(Q,de,Xr)=>{Le(Q,document.createComment(Xr)),Le(Q,Xe(de).getGui())};Be(T.current,Re.FakeHScrollComp," AG Fake Horizontal Scroll "),Be(T.current,Re.OverlayWrapperComponent," AG Overlay Wrapper "),H.current&&Be(H.current,Re.FakeVScrollComp," AG Fake Vertical Scroll ");const Zr={setRowAnimationCssOnBodyViewport:s,setColumnCount:Q=>{T.current&&(0,Re._setAriaColCount)(T.current,Q)},setRowCount:Q=>{T.current&&(0,Re._setAriaRowCount)(T.current,Q)},setTopHeight:a,setBottomHeight:o,setStickyTopHeight:l,setStickyTopTop:d,setStickyTopWidth:v,setTopDisplay:z,setBottomDisplay:U,setColumnMovingCss:(Q,de)=>V.current.addOrRemoveCssClass(Q,de),updateLayoutClasses:L,setAlwaysVerticalScrollClass:R,setPinnedTopBottomOverflowY:k,setCellSelectableCss:(Q,de)=>q(de?Q:null),setBodyViewportWidth:Q=>{D.current&&(D.current.style.width=Q)},registerBodyViewportResizeListener:Q=>{if(D.current){const de=t.observeResize(D.current,Q);fe.current.push(()=>de())}},setStickyBottomHeight:y,setStickyBottomBottom:h,setStickyBottomWidth:E},yt=e.createBean(new Re.GridBodyCtrl);G.current.push(yt),yt.setComp(Zr,T.current,D.current,N.current,se.current,K.current,A.current)},[]),Ce=(0,b.useMemo)(()=>me("ag-root","ag-unselectable",J),[J]),Ee=(0,b.useMemo)(()=>me("ag-body-viewport",r,J,M,F),[r,J,M,F]),qe=(0,b.useMemo)(()=>me("ag-body",J),[J]),Ze=(0,b.useMemo)(()=>me("ag-floating-top",F),[F]),te=(0,b.useMemo)(()=>me("ag-sticky-top",F),[F]),Y=(0,b.useMemo)(()=>me("ag-sticky-bottom",u==="0px"?"ag-hidden":null,F),[F,u]),ee=(0,b.useMemo)(()=>me("ag-floating-bottom",F),[F]),B=(0,b.useMemo)(()=>({height:n,minHeight:n,display:g,overflowY:C}),[n,g,C]),Z=(0,b.useMemo)(()=>({height:i,top:m,width:w}),[i,m,w]),le=(0,b.useMemo)(()=>({height:u,bottom:p,width:S}),[u,p,S]),ge=(0,b.useMemo)(()=>({height:c,minHeight:c,display:P,overflowY:C}),[c,P,C]),Pe=Me=>b.default.createElement(Ir,{name:Me,key:`${Me}-container`}),we=({section:Me,children:Le,className:Xe,style:Be})=>b.default.createElement("div",{ref:Me,className:Xe,role:"presentation",style:Be},Le.map(Pe));return b.default.createElement("div",{ref:ce,className:Ce,role:"treegrid"},b.default.createElement(gr,null),we({section:N,className:Ze,style:B,children:["topLeft","topCenter","topRight","topFullWidth"]}),b.default.createElement("div",{className:qe,ref:H,role:"presentation"},we({section:D,className:Ee,children:["left","center","right","fullWidth"]})),we({section:K,className:te,style:Z,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),we({section:A,className:Y,style:le,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),we({section:se,className:ee,style:ge,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},xr=(0,b.memo)(Ar),Dr=(e,t)=>{const{children:r,eFocusableElement:s,onTabKeyDown:n,gridCtrl:a,forceFocusOutWhenTabGuardsAreEmpty:c}=e,{context:o}=(0,ue.useContext)(ae),i=(0,ue.useRef)(null),l=(0,ue.useRef)(null),m=(0,ue.useRef)(),d=p=>{const h=p==null?void 0:parseInt(p,10).toString();[i,l].forEach(S=>{h===void 0?S.current?.removeAttribute("tabindex"):S.current?.setAttribute("tabindex",h)})};(0,ue.useImperativeHandle)(t,()=>({forceFocusOutOfContainer(p){m.current?.forceFocusOutOfContainer(p)}}));const w=(0,ue.useCallback)(()=>{if(!i.current&&!l.current){o.destroyBean(m.current),m.current=null;return}if(i.current&&l.current){const p={setTabIndex:d};m.current=o.createBean(new Ne.TabGuardCtrl({comp:p,eTopGuard:i.current,eBottomGuard:l.current,eFocusableElement:s,onTabKeyDown:n,forceFocusOutWhenTabGuardsAreEmpty:c,focusInnerElement:h=>a.focusInnerElement(h)}))}},[]),v=(0,ue.useCallback)(p=>{i.current=p,w()},[w]),u=(0,ue.useCallback)(p=>{l.current=p,w()},[w]),y=p=>{const h=p==="top"?Ne.TabGuardClassNames.TAB_GUARD_TOP:Ne.TabGuardClassNames.TAB_GUARD_BOTTOM;return ue.default.createElement("div",{className:`${Ne.TabGuardClassNames.TAB_GUARD} ${h}`,role:"presentation",ref:p==="top"?v:u})};return ue.default.createElement(ue.default.Fragment,null,y("top"),r,y("bottom"))},Br=(0,ue.forwardRef)(Dr),Wr=(0,ue.memo)(Br),Tr=({context:e})=>{const[t,r]=(0,W.useState)(""),[s,n]=(0,W.useState)(""),[a,c]=(0,W.useState)(null),[o,i]=(0,W.useState)(null),[l,m]=(0,W.useState)(!1),[d,w]=(0,W.useState)(),v=(0,W.useRef)(null),u=(0,W.useRef)(null),y=(0,W.useRef)(),[p,h]=(0,W.useState)(null),S=(0,W.useRef)(()=>{}),E=(0,W.useRef)(),g=(0,W.useRef)([]),z=(0,W.useCallback)(()=>{},[]),P=(0,W.useMemo)(()=>e.isDestroyed()?null:e.getBeans(),[e]);ve(" AG Grid ",u);const U=(0,W.useCallback)(F=>{if(u.current=F,!u.current){e.destroyBean(v.current),v.current=null;return}if(e.isDestroyed())return;v.current=e.createBean(new At.GridCtrl);const q=v.current;S.current=q.focusInnerElement.bind(q);const J={destroyGridUi:()=>{},setRtlClass:r,forceFocusOutOfContainer:L=>{if(!L&&E.current?.isDisplayed()){E.current.forceFocusOutOfContainer(L);return}y.current?.forceFocusOutOfContainer(L)},updateLayoutClasses:n,getFocusableContainers:()=>{const L=[],V=u.current?.querySelector(".ag-root");return V&&L.push({getGui:()=>V}),g.current.forEach(T=>{T.isDisplayed()&&L.push(T)}),L},setCursor:c,setUserSelect:i};q.setComp(J,u.current,u.current),m(!0)},[]);(0,W.useEffect)(()=>{if(!d||!P||!v.current||!p||!u.current)return;const F=v.current,q=[],{watermarkSelector:J,paginationSelector:L,sideBarSelector:V,statusBarSelector:T,gridHeaderDropZonesSelector:N}=F.getOptionalSelectors(),K=[],A=u.current;if(N){const D=e.createBean(new N.component),se=D.getGui();A.insertAdjacentElement("afterbegin",se),K.push(se),q.push(D)}if(V){const D=e.createBean(new V.component),se=D.getGui(),G=p.querySelector(".ag-tab-guard-bottom");G&&(G.insertAdjacentElement("beforebegin",se),K.push(se)),q.push(D),g.current.push(D)}const H=D=>{const se=e.createBean(new D),G=se.getGui();return A.insertAdjacentElement("beforeend",G),K.push(G),q.push(se),se};if(T&&H(T.component),L){const D=H(L.component);E.current=D,g.current.push(D)}return J&&H(J.component),()=>{e.destroyBeans(q),K.forEach(D=>{D.parentElement&&D.parentElement.removeChild(D)})}},[d,p,P]);const M=(0,W.useMemo)(()=>me("ag-root-wrapper",t,s),[t,s]),R=(0,W.useMemo)(()=>me("ag-root-wrapper-body","ag-focus-managed",s),[s]),C=(0,W.useMemo)(()=>({userSelect:o??"",WebkitUserSelect:o??"",cursor:a??""}),[o,a]),k=(0,W.useCallback)(F=>{y.current=F,w(F!==null)},[]);return W.default.createElement("div",{ref:U,className:M,style:C,role:"presentation"},W.default.createElement("div",{className:R,ref:h,role:"presentation"},l&&p&&P&&W.default.createElement(ae.Provider,{value:P},W.default.createElement(Wr,{ref:k,eFocusableElement:p,onTabKeyDown:z,gridCtrl:v.current,forceFocusOutWhenTabGuardsAreEmpty:!0},W.default.createElement(xr,null)))))},Nr=(0,W.memo)(Tr),Hr=class extends Ut.BeanStub{wireBeans(e){this.ctrlsService=e.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(t=>t.areCellsRendered()))}},Ct=e=>{const t=(0,_.useRef)(),r=(0,_.useRef)(null),s=(0,_.useRef)(null),n=(0,_.useRef)([]),a=(0,_.useRef)([]),c=(0,_.useRef)(e),o=(0,_.useRef)(),i=(0,_.useRef)(!1),[l,m]=(0,_.useState)(void 0),[,d]=(0,_.useState)(0),w=(0,_.useCallback)(y=>{if(r.current=y,!r.current){n.current.forEach(R=>R()),n.current.length=0;return}const p=e.modules||[];s.current||(s.current=new ar(()=>d(R=>R+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),n.current.push(()=>{s.current?.destroy(),s.current=null}));const h=(0,ye._combineAttributesAndGridOptions)(e.gridOptions,e),S=()=>{if(i.current){const R=()=>o.current?.shouldQueueUpdates()?void 0:a.current.shift();let C=R();for(;C;)C(),C=R()}},E=Lt()?new Vr(S):new gt;o.current=E;const g=new Hr,z={providedBeanInstances:{frameworkComponentWrapper:new qr(s.current,h.reactiveCustomComponents??!0),renderStatusService:g},modules:p,frameworkOverrides:E},P=R=>{m(R),R.createBean(g),n.current.push(()=>{R.destroy()}),R.getBean("ctrlsService").whenReady(()=>{if(R.isDestroyed())return;const k=t.current;k&&e.setGridApi&&e.setGridApi(k)})},U=R=>{R.getBean("ctrlsService").whenReady(()=>{a.current.forEach(k=>k()),a.current.length=0,i.current=!0})},M=new ye.GridCoreCreator;t.current=M.create(r.current,h,P,U,z)},[]),v=(0,_.useMemo)(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),u=(0,_.useCallback)(y=>{i.current&&!o.current?.shouldQueueUpdates()?y():a.current.push(y)},[]);return(0,_.useEffect)(()=>{const y=Ur(c.current,e);c.current=e,u(()=>{t.current&&(0,ye._processOnChange)(y,t.current)})},[e]),_.default.createElement("div",{style:v,className:e.className,ref:w},l&&!l.isDestroyed()?_.default.createElement(Nr,{context:l}):null,s.current?.getPortals()??null)};function Ur(e,t){const r={};return Object.keys(t).forEach(s=>{const n=t[s];e[s]!==n&&(r[s]=n)}),r}var qr=class extends ye.BaseComponentWrapper{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const n=(a=>{switch(a){case"filter":return Qt;case"floatingFilterComponent":return Zt;case"dateComponent":return Kt;case"loadingOverlayComponent":return Xt;case"noRowsOverlayComponent":return tr;case"statusPanel":return rr;case"toolPanel":return sr;case"menuItem":return er;case"cellRenderer":return Jt}})(t.propertyName);if(n)return new n(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":Ue();break}const r=!t.cellRenderer&&t.propertyName!=="toolPanel";return new pt(e,this.parent,t,r)}},Lr=(0,_.forwardRef)((e,t)=>{const{ctrlsFactory:r,context:s,gos:n,resizeObserverService:a,rowModel:c}=(0,_.useContext)(ae),[o,i]=(0,_.useState)(()=>new pe),[l,m]=(0,_.useState)(()=>new pe),[d,w]=(0,_.useState)(),[v,u]=(0,_.useState)(),y=(0,_.useRef)(),p=(0,_.useRef)(null),h=(0,_.useRef)(),S=(0,_.useMemo)(()=>ye.ModuleRegistry.__getGridRegisteredModules(e.api.getGridId()),[e]),E=(0,_.useMemo)(()=>o.toString()+" ag-details-row",[o]),g=(0,_.useMemo)(()=>l.toString()+" ag-details-grid",[l]);t&&(0,_.useImperativeHandle)(t,()=>({refresh(){return y.current?.refresh()??!1}})),e.template&&(0,ye._warnOnce)("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const z=(0,_.useCallback)(U=>{if(p.current=U,!p.current){s.destroyBean(y.current),h.current&&h.current();return}const M={addOrRemoveCssClass:(C,k)=>i(F=>F.setClass(C,k)),addOrRemoveDetailGridCssClass:(C,k)=>m(F=>F.setClass(C,k)),setDetailGrid:C=>w(C),setRowData:C=>u(C),getGui:()=>p.current},R=r.getInstance("detailCellRenderer");if(R&&(s.createBean(R),R.init(M,e),y.current=R,n.get("detailRowAutoHeight"))){const C=()=>{if(p.current==null)return;const k=p.current.clientHeight;k!=null&&k>0&&setTimeout(()=>{e.node.setRowHeight(k),(c.getType()==="clientSide"||c.getType()==="serverSide")&&c.onRowHeightChanged()},0)};h.current=a.observeResize(p.current,C),C()}},[]),P=(0,_.useCallback)(U=>{y.current?.registerDetailWithMaster(U)},[]);return _.default.createElement("div",{className:E,ref:z},d&&_.default.createElement(Ct,{className:g,...d,modules:S,rowData:v,setGridApi:P}))}),gt=class extends ye.VanillaFrameworkOverrides{constructor(){super("react"),this.frameworkComponents={agGroupCellRenderer:ut,agGroupRowRenderer:ut,agDetailCellRenderer:Lr},this.wrapIncoming=(e,t)=>t==="ensureVisible"?Vt(e):e(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}shouldQueueUpdates(){return!1}getLockOnRefreshError(){return" This error can also occur if using 'ReactDOM.render' instead of 'createRoot'. If so, please upgrade to 'createRoot'."}},Vr=class extends gt{constructor(e){super(),this.processQueuedUpdates=e,this.queueUpdates=!1}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}getLockOnRefreshError(){return""}},jr=class extends rt.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return rt.default.createElement(Ct,{...this.props,setGridApi:this.setGridApi})}};function De(e){const{setMethods:t}=(0,qt.useContext)(xe);t(e)}function zr(e){De(e)}function $r(e){return De(e)}function Jr(e){return De(e)}function Kr(e){De(e)}function Qr(e){De(e)}if(typeof _e.exports=="object"&&typeof Ve=="object"){var Yr=(e,t,r,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Object.getOwnPropertyNames(t))!Object.prototype.hasOwnProperty.call(e,n)&&n!==r&&Object.defineProperty(e,n,{get:()=>t[n],enumerable:!(s=Object.getOwnPropertyDescriptor(t,n))||s.enumerable});return e};_e.exports=Yr(_e.exports,Ve)}return _e.exports});
